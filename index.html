<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JQuery Calculator</title>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

    <div id="calculator-box">
        <p id="display"></p>
        
    <button id="one">1</button>
    <button id="two">2</button>
    <button id="three">3</button>
    <button id="four">4</button>
    
    <button id="five">5</button>
    <button id="six">6</button>
    <button id="seven">7</button>
    <button id="eight">8</button>
    
    <button id="nine">9</button>
    <button id="zero">0</button>
    <button id="point">.</button>
    <button id="pi">π</button>
    
    <button id="add">+</button>
    <button id="subtract">-</button>
    <button id="multiply">*</button>
    <button id="divide">/</button>
    
    <button id="perc">%</button>
    <button id="modulo">mod</button>
    <button id="exponent">xʸ</button>
    <button id="squareroot">√</button>

    <button id="sin">sin</button>
    <button id="cos">cos</button>
    <button id="tan">tan</button>
    <button id="log">ln</button>

    <button id="cosec">csc</button>
    <button id="sec">sec</button>
    <button id="cot">cot</button>
    <button id="clear">C</button>

    <button id="equals">=</button>
    </div>

    

    <script>
        let firstNumber = "";
        let operator = "";

        $(document).ready(function() {
            $("body").css({
        "display": "flex",
        "flex-direction": "column", 
        "align-items": "center",
        "min-height": "100vh",     
        "margin": "0",
        "background-color": "#f0f2f5"
            });

            $("#calculator-box").css({
        "width": "360px",
        "padding": "20px",
        "margin-top": "auto",      
        "background-color": "#ffffff",
        "border-radius": "15px",
        "box-shadow": "0px 10px 40px rgba(0, 0, 0, 0.25)",
        "text-align": "center"
            });

            $("#display").css({
                "width": "100%",
                "height": "60px",
                "margin-bottom": "20px",
                "background-color": "#222",
                "color": "#0f0",
                "font-family": "monospace",
                "font-size": "24px",
                "text-align": "right",
                "padding": "10px",
                "border-radius": "5px",
                "border": "none"
            });

            $("button").css({
                "width": "70px",
                "height": "50px",
                "margin": "5px",
                "border-radius": "8px",
                "border": "1px solid #ddd",
                "font-weight": "bold",
                "cursor": "pointer",
                "transition": "0.2s"
            });

            $("#one, #two, #three, #four, #five, #six, #seven, #eight, #nine, #zero, #point, #pi").css({
                "background-color": "#f8f9fa",
                "color": "#212529"
            });

            $("#sin, #cos, #tan, #cosec, #sec, #cot, #log, #squareroot, #exponent, #modulo, #perc").css({
                "background-color": "#6c757d",
                "color": "white"
            });

            $("#add, #subtract, #multiply, #divide").css({
                "background-color": "#ffc107",
                "color": "black"
            });

            $("#clear").css({ "background-color": "#dc3545", "color": "white" });
            $("#equals").css({ "background-color": "#198754", "color": "white" });

            $("#app-footer").css({
            "text-align": "center",
            "padding": "20px",
            "width": "100%",
            "color": "#555",
            "font-size": "14px",
            "background-color": "#ffffff",
            "border-top": "1px solid #ddd",
            "margin-top": "auto"        
            });

            $("#app-footer strong").css("color", "#333");

            $("#calc-icon").css({
            "width": "40px",
            "height": "40px",
            "margin-bottom": "10px",
            "opacity": "0.8",
            "transition": "all 0.3s ease"
            });

            $("#one").click(function() { $("#display").append("1"); });
            $("#two").click(function() { $("#display").append("2"); });
            $("#three").click(function() { $("#display").append("3"); });
            $("#four").click(function() { $("#display").append("4"); });
            $("#five").click(function() { $("#display").append("5"); });
            $("#six").click(function() { $("#display").append("6"); });
            $("#seven").click(function() { $("#display").append("7"); });
            $("#eight").click(function() { $("#display").append("8"); });
            $("#nine").click(function() { $("#display").append("9"); });
            $("#zero").click(function() { $("#display").append("0"); });
            $("#point").click(function() { $("#display").append("."); });

            $("#add").click(function() { operator = "add"; $("#display").append("+"); });
            $("#subtract").click(function() { 
                // Check if the last character is a trigonometric function
                let currentText = $("#display").text();
                if (currentText.endsWith("sin") || currentText.endsWith("cos") || 
                    currentText.endsWith("tan") || currentText.endsWith("cot") || 
                    currentText.endsWith("csc") || currentText.endsWith("sec") || 
                    currentText.endsWith("ln")) {
                    $("#display").append("-"); // Append negative sign without setting operator
                } else {
                    operator = "subtract"; 
                    $("#display").append("-");
                }
            });
            $("#multiply").click(function() { operator = "multiply"; $("#display").append("*"); });
            $("#divide").click(function() { operator = "divide"; $("#display").append("/"); });
            $("#perc").click(function() { operator = "perc"; $("#display").append("% of "); });
            $("#modulo").click(function() { operator = "modulo"; $("#display").append("mod"); });
            $("#squareroot").click(function() { operator = "squareroot"; $("#display").append("√"); });
            $("#log").click(function() { operator = "log"; $("#display").append("ln"); });
            $("#pi").click(function() { $("#display").append("3.14159"); });
            
            $("#sin").click(function() { operator = "sin"; $("#display").append("sin"); });
            $("#cos").click(function() { operator = "cos"; $("#display").append("cos"); });
            $("#tan").click(function() { operator = "tan"; $("#display").append("tan"); });
            $("#cosec").click(function() { operator = "cosec"; $("#display").append("csc"); });
            $("#sec").click(function() { operator = "sec"; $("#display").append("sec"); });
            $("#cot").click(function() { operator = "cot"; $("#display").append("cot"); });
            $("#exponent").click(function() { firstNumber = $("#display").text(); operator = "pow"; $("#display").append("^"); });

            $("#clear").click(function() { $("#display").text(""); firstNumber = ""; operator = ""; });

    $(document).keydown(function(e) {
       switch (e.key) {
        case "0": $("#zero").click(); break;
        case "1": $("#one").click(); break;
        case "2": $("#two").click(); break;
        case "3": $("#three").click(); break;
        case "4": $("#four").click(); break;
        case "5": $("#five").click(); break;
        case "6": $("#six").click(); break;
        case "7": $("#seven").click(); break;
        case "8": $("#eight").click(); break;
        case "9": $("#nine").click(); break;
        case ".": $("#point").click(); break;
        case "+": $("#add").click(); break;
        case "-": $("#subtract").click(); break;
        case "*": $("#multiply").click(); break;
        case "/": 
            e.preventDefault();
            $("#divide").click(); 
            break;
        case "Enter": 
        case "=": 
            $("#equals").click(); 
            break;
        case "Backspace":            
            $("#clear").click(); 
            break;
        case "Escape": 
            $("#clear").click(); 
            break;
        case "%": $("#perc").click(); break;
    }
});

            $("#equals").click(function() {
                let currentDisplay = $("#display").text();
                let result;
                let parts;
                
                switch (operator) {
                    case "pow":
                        parts = currentDisplay.split("^");
                        result = Math.pow(parseFloat(parts[0]), parseFloat(parts[1]));
                        break;
                    case "add":
                        parts = currentDisplay.split("+");
                        result = parseFloat(parts[0]) + parseFloat(parts[1]);
                        break;
                    case "subtract":
                        // Handle negative numbers in trigonometric functions
                        if (currentDisplay.includes("sin-") || currentDisplay.includes("cos-") || 
                            currentDisplay.includes("tan-") || currentDisplay.includes("cot-") || 
                            currentDisplay.includes("csc-") || currentDisplay.includes("sec-") || 
                            currentDisplay.includes("ln-")) {
                            // This will be handled by the trig cases
                            break;
                        }
                        parts = currentDisplay.split("-");
                        // Check if this is a simple subtraction (not a negative sign in trig function)
                        if (parts.length === 2 && !currentDisplay.includes("sin") && 
                            !currentDisplay.includes("cos") && !currentDisplay.includes("tan") && 
                            !currentDisplay.includes("cot") && !currentDisplay.includes("csc") && 
                            !currentDisplay.includes("sec") && !currentDisplay.includes("ln")) {
                            result = parseFloat(parts[0]) - parseFloat(parts[1]);
                        }
                        break;
                    case "multiply":
                        parts = currentDisplay.split("*");
                        result = parseFloat(parts[0]) * parseFloat(parts[1]);
                        break;
                    case "divide":
                        parts = currentDisplay.split("/");
                        result = parseFloat(parts[0]) / parseFloat(parts[1]);
                        break;
                    case "modulo":
                        parts = currentDisplay.split("mod");
                        result = parseFloat(parts[0]) % parseFloat(parts[1]);
                        break;
					case "sin":
						let numericPartSin = currentDisplay.replace("sin", "");
						if (numericPartSin !== "" && !isNaN(parseFloat(numericPartSin))) {
						let angle = parseFloat(numericPartSin);
						result = Math.sin(angle * (Math.PI / 180)); 
						} else {
						result = "Error";
						}
						break;
					case "cos":
						let numericPartCos = currentDisplay.replace("cos", "");
						if (numericPartCos !== "" && !isNaN(parseFloat(numericPartCos))) {
						let angle = parseFloat(numericPartCos);
						result = Math.cos(angle * (Math.PI / 180)); 
						} else {
						result = "Error";
						}
						break;
					case "tan":
						let numericPartTan = currentDisplay.replace("tan", "");
						if (numericPartTan !== "" && !isNaN(parseFloat(numericPartTan))) {
						let angle = parseFloat(numericPartTan);
						result = Math.tan(angle * (Math.PI / 180)); 
						} else {
						result = "Error";
						}
						break;
                    case "cot":
						let numericPartCot = currentDisplay.replace("cot", "");
						if (numericPartCot !== "" && !isNaN(parseFloat(numericPartCot))) {
						let angle = parseFloat(numericPartCot);
						result = Math.tan(angle * (Math.PI / 180)); 
						} else {
						result = "Error";
						}
						break;
                    case "cosec":
						let numericPartCosec = currentDisplay.replace("cosec", "");
						if (numericPartCosec !== "" && !isNaN(parseFloat(numericPartCosec))) {
						let angle = parseFloat(numericPartCosec);
						result = Math.tan(angle * (Math.PI / 180)); 
						} else {
						result = "Error";
						}
						break;
                    case "sec":
						let numericPartSec = currentDisplay.replace("sec", "");
						if (numericPartSec !== "" && !isNaN(parseFloat(numericPartSec))) {
						let angle = parseFloat(numericPartSec);
						result = Math.tan(angle * (Math.PI / 180)); 
						} else {
						result = "Error";
						}
						break;
                    case "squareroot":
                        result = Math.sqrt(parseFloat(currentDisplay.replace("√", "")));
                        break;
                    case "log":
                        let lnStr = currentDisplay.substring(currentDisplay.indexOf("ln") + 2);
                        if (lnStr && lnStr !== "") {
                            let num = parseFloat(lnStr);
                            if (!isNaN(num)) {
                                result = Math.log(num);
                            } else {
                                result = "Error: Invalid number";
                            }
                        } else {
                            result = "Error: No number entered";
                        }
                        break;
                    case "perc":
                        parts = currentDisplay.split("% of ");
                        result = (parseFloat(parts[0]) / 100) * parseFloat(parts[1]);
                        break;
                    default:
                        result = currentDisplay;
                }
                
                // Only update display if result is defined
                if (result !== undefined) {
                    $("#display").text(result);
                    operator = "";
                }
            });
        });

        
    </script>

    <footer id="app-footer">
    <p><b>&copy Syed Danish Anwar</b></p>
    <p><b>Developed using JavaScript with the jQuery Library</b></p>
</footer>
</body>
</html>